<mxfile host="65bd71144e">
    <diagram id="UNuW0fMohpULheiETjqr" name="Page-1">
        <mxGraphModel dx="1336" dy="585" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="LA_train" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="60" y="115" width="450" height="320" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="- args: arguments&#10;- train_data_path: str&#10;- base_lr: float&#10;- model: Net&#10;- db_train: LAHeart&#10;- labeled_idxs: list&#10;- unlabeled_idxs: list&#10;- pre_max_iterations: int&#10;- sub_bs: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="2" vertex="1">
                    <mxGeometry y="26" width="450" height="144" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="2" vertex="1">
                    <mxGeometry y="170" width="450" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="+ __init__(args, num_classes, patch_size)&#10; + pre_train(snapshot_path)&#10; + self_train(pre_snapshot_path, self_snapshot_path)&#10; - cal_patch(sampled_batch, labeled_bs)&#10; - MixInput(img_a, img_b, lab_a, lab_b, img_mask)&#10; - worker_init_fn(worker_id)&#10; - init_snapshot(H, W, D, ins_width)&#10; - create_snapshot_img(H, W, snapshot_img, train_img, ins_width, target, seg_out)&#10; - get_current_consistency_weight(epoch)&#10;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="2" vertex="1">
                    <mxGeometry y="178" width="450" height="142" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="LA_BCP_train" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
                    <mxGeometry x="590" y="116" width="160" height="74" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="6">
                    <mxGeometry y="26" width="160" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="+ __main__&#10;+ log_train_info" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="6">
                    <mxGeometry y="34" width="160" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="10" style="edgeStyle=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="9">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="510" y="170" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="11" value="BCP_utils" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
                    <mxGeometry x="60" y="512" width="360" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="11">
                    <mxGeometry y="26" width="360" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="+ get_cut_mask(out, thres, nms)&#10;+ LargestCC_pancreas(segmentation)&#10;+ context_mask(img, mask_ratio)&#10;+ random_mask&#10;+ concate_mask(img)&#10;+ mix_loss(net, img_l, patch_l, mask, l_weight, u_weight, unlab)&#10;+ sup_loss(output, label)&#10;+ update_ema_students(model1, model2, ema_model, alpha)&#10;+ parameter_sharing(model, ema_model)&#10;+ get_non_empty_min_max_idx_along_axis(mask, axis)&#10;+ get_bbox_3d(mask)&#10;+ get_bbox_mask(mask)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="11">
                    <mxGeometry y="34" width="360" height="186" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="" style="endArrow=block;endFill=1;html=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;" edge="1" parent="1" target="11">
                    <mxGeometry x="-1" relative="1" as="geometry">
                        <mxPoint x="240" y="460" as="sourcePoint"/>
                        <mxPoint x="340" y="470" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="240" y="430"/>
                            <mxPoint x="240" y="430"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="20" value="Net_factory" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
                    <mxGeometry x="470" y="510" width="320" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="20">
                    <mxGeometry y="26" width="320" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="+ net_factory(net_type, in_chns, class_num, mode, tsne)&#10;+ BCP_net(in_chns, class_num, ema)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="20">
                    <mxGeometry y="34" width="320" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="LAHeart" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
                    <mxGeometry x="470" y="610" width="260" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="26" value="- base_dir: str&#10;+ transform: transform:&#10;+ sample_list: list&#10;+ image_list: list" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="25">
                    <mxGeometry y="26" width="260" height="74" as="geometry"/>
                </mxCell>
                <mxCell id="27" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="25">
                    <mxGeometry y="100" width="260" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="+ __init__(self, base_dir, split, num, transform)&#10;+ __len__&#10;+ __getitem__(idx)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="25">
                    <mxGeometry y="108" width="260" height="62" as="geometry"/>
                </mxCell>
                <mxCell id="29" value="Test_3d_patch" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
                    <mxGeometry x="470" y="800" width="220" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="29">
                    <mxGeometry y="26" width="220" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="+ getLargestCC&#10;+ var_all_case_LA&#10;+ test_all_case&#10;+ test_single_case&#10;+ var_all_case_LA_plus&#10;+ test_all_case_plus&#10;+ test_single_case_plus&#10;+ calculate_metric_percase" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="29">
                    <mxGeometry y="34" width="220" height="126" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>